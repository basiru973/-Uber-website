"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[8951,4277],{39649:(e,t,n)=>{n.d(t,{b:()=>i});var o=n(74369),a=n(9002),l=n(59924);const i=o.createContext({LocationSelect:()=>(0,l.tZ)(a.Z,{disabled:!0})})},90785:(e,t,n)=>{n.d(t,{v:()=>o});const o=(e,t)=>{var n;null!==(n=window)&&void 0!==n&&null!==(n=n.navigator)&&void 0!==n&&null!==(n=n.geolocation)&&void 0!==n&&n.getCurrentPosition?window.navigator.geolocation.getCurrentPosition((n=>{n&&n.coords&&n.coords.latitude&&n.coords.longitude?e(n.coords):null==t||t({code:100,message:"Received invalid position from Geolocation API"})}),t):null==t||t({code:101,message:"Geolocation API is not available"})}},6941:(e,t,n)=>{n.d(t,{h:()=>i});var o=n(74369),a=n(90785);const l={currentLocation:null,error:null};function i(e){let{skipPermissionCheck:t}=e;const[n,i]=o.useState(!1),[r,d]=o.useState(null),s=o.useRef(l),c=o.useRef(null),u=o.useCallback((async()=>{const{state:e}=await(()=>{var e;return(null===(e=window)||void 0===e||null===(e=e.navigator)||void 0===e||null===(e=e.permissions)||void 0===e?void 0:e.query({name:"geolocation"}))||{state:"denied"}})();return d(e),e}),[]),v=o.useCallback((()=>(c.current||(c.current=new Promise((e=>{i(!0),(0,a.v)((t=>{i(!1),d("granted"),s.current={currentLocation:t,error:null},e(t)}),(t=>{var n;i(!1),d("undefined"!=typeof GeolocationPositionError&&t.code===(null===(n=GeolocationPositionError)||void 0===n?void 0:n.PERMISSION_DENIED)?"denied":"granted"),s.current={currentLocation:null,error:t},e(null)}))}))),c.current)),[]);return o.useEffect((()=>{u().then((e=>{(t||"granted"===e)&&v()}))}),[]),{...s.current,loading:n,permissionState:r,promptUserForLocation:v}}},__fusion__5bde47abd4:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(74369),a=n(59924);const l=o.forwardRef((function(e,t){let{title:n="Airplane",titleId:o,size:l="1em",...i}=e;return(0,a.BX)("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...i,children:[void 0===n?(0,a.tZ)("title",{id:o,children:"Airplane"}):n?(0,a.tZ)("title",{id:o,children:n}):null,(0,a.tZ)("path",{d:"M21 9h-5.5L10 1H8v8H3.5l-2-2H0v10h1.5l2-2H8v8h2l5.5-8H21c1.7 0 3-1.3 3-3s-1.3-3-3-3Z",fill:"currentColor"})]})}))},__fusion__f822297826:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(74369),a=n(59924);const l=o.forwardRef((function(e,t){let{title:n="Bed",titleId:o,size:l="1em",...i}=e;return(0,a.BX)("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...i,children:[void 0===n?(0,a.tZ)("title",{id:o,children:"Bed"}):n?(0,a.tZ)("title",{id:o,children:n}):null,(0,a.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9V8h3v12h-3v-3H4v3H1V4h3v5h16ZM5 5h6v3H5V5Z",fill:"currentColor"})]})}))},__fusion__3ba13bc820:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var o=n(74369),a=n(59924);const l=o.forwardRef((function(e,t){let{title:n="Briefcase",titleId:o,size:l="1em",...i}=e;return(0,a.BX)("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...i,children:[void 0===n?(0,a.tZ)("title",{id:o,children:"Briefcase"}):n?(0,a.tZ)("title",{id:o,children:n}):null,(0,a.tZ)("path",{d:"M18 7V2H6v5H1v15h22V7h-5Zm-3 0H9V5h6v2Z",fill:"currentColor"})]})}))},__fusion__9e99649e9d:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(74369),a=n(59924);const l=o.forwardRef((function(e,t){let{title:n="Center",titleId:o,size:l="1em",...i}=e;return(0,a.BX)("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...i,children:[void 0===n?(0,a.tZ)("title",{id:o,children:"Center"}):n?(0,a.tZ)("title",{id:o,children:n}):null,(0,a.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9 10.5H24v3h-3.1c-.7 3.8-3.6 6.8-7.4 7.4V24h-3v-3.1c-3.8-.7-6.8-3.6-7.4-7.4H0v-3h3.1c.7-3.8 3.6-6.8 7.4-7.4V0h3v3.1c3.8.7 6.8 3.6 7.4 7.4ZM6 12c0 3.3 2.7 6 6 6s6-2.7 6-6-2.7-6-6-6-6 2.7-6 6Zm9 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor"})]})}))},__fusion__065c3baf9b:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(74369),a=n(59924);const l=o.forwardRef((function(e,t){let{title:n="Circle small",titleId:o,size:l="1em",...i}=e;return(0,a.BX)("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...i,children:[void 0===n?(0,a.tZ)("title",{id:o,children:"Circle small"}):n?(0,a.tZ)("title",{id:o,children:n}):null,(0,a.tZ)("path",{d:"M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z",fill:"currentColor"})]})}))},__fusion__bf7c9fec80:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(74369),a=n(59924);const l=o.forwardRef((function(e,t){let{title:n="Restaurant",titleId:o,size:l="1em",...i}=e;return(0,a.BX)("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...i,children:[void 0===n?(0,a.tZ)("title",{id:o,children:"Restaurant"}):n?(0,a.tZ)("title",{id:o,children:n}):null,(0,a.tZ)("g",{fill:"currentColor",children:(0,a.tZ)("path",{d:"M9 8V1h2v7c0 2.3-1.5 4.2-3.5 4.8V23h-3V12.8C2.5 12.1 1 10.2 1 8V1h2v7h2V1h2v7h2ZM13 6c0-2.8 2.2-5 5-5s5 2.2 5 5v2c0 2.2-1.5 4.1-3.5 4.7V23h-3V12.7c-2-.6-3.5-2.5-3.5-4.7V6Z"})})]})}))},1848:(e,t,n)=>{n.d(t,{Qj:()=>o,RH:()=>u,V3:()=>l,W_:()=>d,d4:()=>s,oo:()=>r,pQ:()=>c,z0:()=>i});const o=(e,t)=>({["border".concat(t,"Color")]:e.borderColor,["border".concat(t,"Style")]:e.borderStyle,["border".concat(t,"Width")]:e.borderWidth}),a=["accent","accent400","accent500","accent600","accent700","negative","negative400","negative500","negative600","negative700","positive","positive400","positive500","positive600","positive700","warning","warning400","warning500","warning600","warning700"],l=(e,t)=>({["".concat("rtl"===e.direction?"paddingRight":"paddingLeft")]:0===t?0:e.sizing[t]}),i=(e,t)=>({["".concat("rtl"===e.direction?"paddingLeft":"paddingRight")]:0===t?0:e.sizing[t]});function r(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=[0,0,0];return t&&(n[0]=parseInt(t[1],16),n[1]=parseInt(t[2],16),n[2]=parseInt(t[3],16)),n}const d=e=>({WebkitBoxOrient:"vertical",WebkitLineClamp:e,display:"-webkit-box",overflow:"hidden"}),s={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},c={":after":{bottom:"-8px",content:'""',left:"-8px",position:"absolute",right:"-8px",top:"-8px"},position:"relative"},u={"::-webkit-scrollbar ":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none"}},19774:(e,t,n)=>{n.d(t,{j:()=>Tt});var o=n(39649),a=n(11298);function l(e,t){return"".concat(e,":").concat(t.pudoKey)}function i(e){return"pickup"===e?"PICKUP":"DROPOFF"}const r=e=>{if(!e)return;const t=parseInt(e);return t&&t>=0&&t<=100?"".concat(t,"vh"):void 0};var d=n(74369),s=n("__fusion__95b4ba69e5"),c=n(97121),u=n(9006),v=n(96474),p=n(1848),m=n(51163);const h=500;function f(e){var t;let{debounceMsec:n=h,internalStateKey:o,latitude:a,longitude:l,sendRequestHook:i,skipDataFetching:r=!1,type:d,value:c}=e;const u=s.useRef(),[v,p]=s.useState({latitude:a,longitude:l,query:String(c),type:d}),{loading:f}=i(v),g=s.useContext(m.JU),b=s.useContext(m.QY);s.useEffect((()=>{let e;e=f?{...g[o],loading:!0}:{loading:!1,variables:v},e&&b(o,e)}),[v,f]),s.useEffect((()=>(r||(u.current=setTimeout((()=>{p({latitude:a,longitude:l,query:String(c),type:d})}),n)),()=>{clearTimeout(u.current)})),[n,a,l,d,r,c]),s.useEffect((()=>{var e;null!==(e=g["".concat(o)])&&void 0!==e&&null!==(e=e.variables)&&void 0!==e&&e.isUserTriggeredFallback&&p({isUserTriggeredFallback:!0,latitude:a,longitude:l,query:String(c),type:d})}),[null===(t=g["".concat(o)])||void 0===t||null===(t=t.variables)||void 0===t?void 0:t.isUserTriggeredFallback])}var g=n(59924);var b=n(89850),S=n(60853),R=n(16642);let k=function(e){return e.utf="utf",e.simpleSavedPlaces="simpleSavedPlaces",e}({}),y=function(e){return e[e.pudoFlights=12e5]="pudoFlights",e[e.pudoLocationSearch=12e5]="pudoLocationSearch",e[e.pudoResolveLocation=12e5]="pudoResolveLocation",e}({});const Z={ListItem:{Content:{verticalPaddingScale:{[R.NO.mini]:"scale300",[R.NO.compact]:"scale400",[R.NO.default]:"scale500",[R.NO.large]:"scale500"}}},StyledIconContainer:{fontSize:{[R.NO.mini]:"12px",[R.NO.compact]:"14px",[R.NO.default]:"16px",[R.NO.large]:"16px"},height:{[R.NO.mini]:"28px",[R.NO.compact]:"32px",[R.NO.default]:"36px",[R.NO.large]:"38px"}},StyledLabelContent:{[R.NO.mini]:"LabelSmall",[R.NO.compact]:"LabelSmall",[R.NO.default]:"LabelMedium",[R.NO.large]:"LabelMedium"},StyledLabelDescription:{[R.NO.mini]:"ParagraphXSmall",[R.NO.compact]:"ParagraphSmall",[R.NO.default]:"ParagraphSmall",[R.NO.large]:"ParagraphSmall"}},C="default",P="inverse",O="none",w="noneWithTertiary",I="list-item",T={add:{root:"add"},edit:{addressInput:"address-input",addressResults:"address-results",deleteButton:"delete-button",nameInput:"name-input",root:"edit",saveButton:"save-button"},list:{addItem:"add-item",editItem:"saved-places.modal.list.edit-item",root:"list"},root:{modal:"saved-places.modal",result:"saved-places.result",row:"saved-places.row"},row:{listButton:"list-button",resultButton:"saved-places.row.result-button"}},x={"property-standard-customEventName":"click"},E=e=>{let{clickable:t=!0,disabled:n=!1,size:o,testid:a}=e;return{ArtworkContainer:{style:{flexShrink:0}},Content:{style:e=>{let{$theme:t}=e;return{boxSizing:"border-box",paddingBottom:t.sizing[Z.ListItem.Content.verticalPaddingScale[o]],paddingTop:t.sizing[Z.ListItem.Content.verticalPaddingScale[o]]}}},EndEnhancerContainer:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentPrimary}}},Root:{props:{"data-testid":a||"pudo-result"},style:e=>{let{$theme:o}=e;return{"@media (pointer: fine)":{":hover":{backgroundColor:n?o.colors.backgroundPrimary:o.colors.backgroundSecondary}},backgroundColor:o.colors.backgroundPrimary,button:{pointerEvents:"initial"},cursor:n?"not-allowed":t?"pointer":"unset",opacity:n?.7:1,pointerEvents:t?"auto":"none"}}}}},L={Input:{props:{type:"search"}},Root:{props:{"data-testid":"pudo-input-v2"}}},H={alignItems:"center",display:"flex",flexDirection:"row"},_=s.forwardRef(((e,t)=>{let{debounceMsec:n,latitude:o,longitude:a,overrides:l,sendRequestHook:i,skipDataFetching:r,stateKey:d,type:s,value:c,...u}=e;return f({debounceMsec:n,internalStateKey:(0,m.Tt)(d,m.Xr.locationSearch),latitude:o,longitude:a,sendRequestHook:i,skipDataFetching:r,type:s,value:String(c)}),(0,g.tZ)(S.Z,{...u,inputRef:t,overrides:(0,b.aO)(L,l),value:c})}));_.displayName="PudoLocationSearchInputComponent";const N=_;var B=n(9002),z=n(91042),A=n(48142),D=n(47510),U=n("__fusion__55bcab8f00"),M=n(37556),K=n(12901);const X="scale700",F="calc(100vh - 80px)",$={Dialog:{style:e=>{let{$theme:t}=e;return{"::-webkit-scrollbar":{display:"none !important"},borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:t.borders.radius400,borderTopRightRadius:t.borders.radius400,marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:F,overflowY:"auto",width:"100%",["@media screen and (min-width: ".concat(t.breakpoints.medium,"px)")]:{borderBottomLeftRadius:t.borders.radius400,borderBottomRightRadius:t.borders.radius400,marginBottom:"initial",marginLeft:"initial",marginRight:"initial",marginTop:"initial",width:"500px"}}}},DialogContainer:{style:e=>{let{$theme:t}=e;return{alignItems:"flex-end",["@media screen and (min-width: ".concat(t.breakpoints.medium,"px)")]:{alignItems:"center"}}}}},V=(e,t,n)=>({paddingBottom:e.sizing.scale700,paddingLeft:e.sizing.scale700,paddingRight:e.sizing.scale700,paddingTop:n?e.sizing.scale700:"0px",...t?(0,p.Qj)(e.borders.border600,"Top"):{},["@media screen and (min-width: ".concat(e.breakpoints.medium,"px)")]:{borderTopWidth:"0px",paddingTop:"0px"}}),q=e=>({height:e?"100%":"auto",maxHeight:F,overflow:"hidden"}),W=e=>({"::-webkit-scrollbar":{display:"none !important"},height:e?"100vh":"inherit",overflowY:"scroll"}),j=e=>({display:"flex",flexDirection:"row",justifyContent:"center",textAlign:"center",["@media screen and (min-width: ".concat(e.breakpoints.medium,"px)")]:{justifyContent:"normal"}}),G=e=>({paddingBottom:e.sizing.scale700,paddingLeft:e.sizing.scale1400,paddingRight:e.sizing.scale1400,paddingTop:e.sizing.scale700,...(0,p.Qj)(e.borders.border600,"Bottom"),["@media screen and (min-width: ".concat(e.breakpoints.medium,"px)")]:{borderBottomWidth:"0px",paddingBottom:"0px",...(0,p.V3)(e,X),...(0,p.z0)(e,"scale1400")}});var Q=n(94937);const Y=d.forwardRef(((e,t)=>d.createElement(Q.Z,{display:"flex",flexDirection:"column",...e,ref:t})));Y.displayName="Column";d.forwardRef(((e,t)=>d.createElement(Q.Z,{display:"flex",flexDirection:"row",...e,ref:t}))).displayName="Row";(0,c.zo)("div",(e=>{let{$width:t}=e;return{display:"flex",flexShrink:0,width:"".concat(t,"px")}}));function J(e){let{autoFocus:t,bottomContent:n,children:o,closeable:a=!0,isFullHeight:l=!1,isFullSize:i=!1,isOpen:r,onClose:s,overrides:u={},renderBottomContentBorder:v=!0,renderBottomContentPaddingTop:p=!0,scrollToBottom:m=!1,scrollToBottomDelay:h=2e3,subtitle:f,title:S,...R}=e;const k=d.useRef(null),[y,Z]=(0,c.hQ)();return d.useEffect((()=>{let e;return r&&m&&(e=setTimeout((()=>{var e;null==k||null===(e=k.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),h)),()=>clearTimeout(e)}),[r,m,h]),(0,g.tZ)(M.Z,{...R,animate:!0,autoFocus:t,closeable:a,isOpen:r,onClose:s,overrides:(0,b.aO)($,u),children:(0,g.BX)(Y,{className:y(q(l)),children:[Boolean(S||f)&&(0,g.BX)(Y,{className:y(G(Z)),children:[S&&(0,g.tZ)(K.D9,{className:y(j(Z)),overrides:{Block:{props:{"data-testid":"common.modal.title"}}},children:S}),f&&(0,g.tZ)(K.Yl,{className:y(j(Z)),color:"contentSecondary",children:f})]}),(0,g.BX)(Y,{className:y(W(i)),children:[o,(0,g.tZ)("span",{ref:k})]}),n&&(0,g.tZ)(Y,{className:y(V(Z,v,p)),children:n})]})})}var ee=n(84023),te=n(67622);const ne={label:"",place:null};function oe(e){return{payload:e,type:"SET_LABEL"}}function ae(e){return{payload:e,type:"SET_PLACE"}}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LABEL":return{...e,label:t.payload};case"SET_PLACE":return{...e,place:t.payload};default:return e}}const ie=d.createContext((()=>{})),re=d.createContext(ne);function de(e){let{children:t,initialState:n}=e;const[o,a]=d.useReducer(le,n||ne);return(0,g.tZ)(ie.Provider,{value:a,children:(0,g.tZ)(re.Provider,{value:o,children:t})})}const se={display:"flex",flexDirection:"column",height:"80vh",overflow:"auto"},ce=e=>({marginLeft:e.sizing.scale600,marginRight:e.sizing.scale600}),ue={flex:1,overflow:"auto"},ve={BaseButton:{style:e=>{let{$theme:t}=e;return{color:t.colors.negative}}}},pe={EmptyState:{component:()=>null},List:{props:{"data-tracking-name":T.edit.addressResults},style:{borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",boxShadow:"none",paddingBottom:"0px",paddingTop:"0px",...p.RH,":focus":{outline:"none !important"}}}};var me=n(30216),he=n("__fusion__91d49e1bad"),fe=n("__fusion__d33d0696fd");Object.freeze({HIGH:"HIGH",LOW:"LOW",UNKNOWN:"UNKNOWN"}),Object.freeze({ARRIVAL:"ARRIVAL",DEPARTURE:"DEPARTURE"}),Object.freeze({ACCELERATOR:"ACCELERATOR",CACHE:"CACHE",DEFAULT_DEVICE:"DEFAULT_DEVICE",EXTERNAL:"EXTERNAL",MANUAL:"MANUAL",SEARCH:"SEARCH",SUGGESTED:"SUGGESTED",VENUE:"VENUE"});const ge=Object.freeze({DROPOFF:"DROPOFF",PICKUP:"PICKUP"}),be=Object.freeze({AIRPORT:"AIRPORT",FAVORITE:"FAVORITE",HOME:"HOME",HOTEL:"HOTEL",PERSONALIZATION:"PERSONALIZATION",RESTAURANT:"RESTAURANT",WORK:"WORK"});Object.freeze({ACCELERATOR:"ACCELERATOR",AIRPORT_REFINEMENT:"AIRPORT_REFINEMENT",AUTOCOMPLETE:"AUTOCOMPLETE",DESTINATION:"DESTINATION",LOCATION:"LOCATION",ORIGIN:"ORIGIN"}),Object.freeze({HOT_SPOT:"HOT_SPOT",MINIMAL:"MINIMAL",ZONE:"ZONE"});function Se(e){var t,n;let{enableSavedPlaces:o,renderRowOrder:a=(e=>e),renderUtfRow:l=!0,stateKey:i,useResultsHook:r,isReverseSavedPlaces:d}=e;const c=(0,D.T)(),u=(0,m.Tt)(i,m.Xr.locationSearch),{[u]:v}=s.useContext(m.JU),p=Boolean(null==v||null===(t=v.variables)||void 0===t?void 0:t.isUserTriggeredFallback),h=!(null==v||null===(n=v.variables)||void 0===n?void 0:n.query);let f=a(r({cacheKey:"pudoLocationSearch",internalStateKey:u}));var g;!l||p||h||(f=f.concat({addressLine1:c("pudo.utf.row.title",{query:null==v||null===(g=v.variables)||void 0===g?void 0:g.query}),artwork:he.Z,id:k.utf}));if(h&&o){const e=f.find((e=>{var t;return"savedPlacesMeta"in e&&(null==e||null===(t=e.savedPlacesMeta)||void 0===t?void 0:t.tag)===be.HOME})),t=f.find((e=>{var t;return"savedPlacesMeta"in e&&(null==e||null===(t=e.savedPlacesMeta)||void 0===t?void 0:t.tag)===be.WORK}));d?f=f.concat([{addressLine1:c("pudo.savedplaces.row.button.list"),artwork:fe.Z,disabled:!1,id:k.simpleSavedPlaces}]):(f=f.filter((n=>n!==e&&n!==t)),f=[{disabled:!0,home:e,isSavedPlacesRow:!0,work:t}].concat(f))}return f}var Re=n(23268),ke=n(99628),ye=n("__fusion__5bde47abd4"),Ze=n("__fusion__f822297826"),Ce=n("__fusion__3ba13bc820"),Pe=n("__fusion__17746f7a17");const Oe=d.forwardRef((function(e,t){let{title:n="Home",titleId:o,size:a="1em",...l}=e;return(0,g.BX)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...l,children:[void 0===n?(0,g.tZ)("title",{id:o,children:"Home"}):n?(0,g.tZ)("title",{id:o,children:n}):null,(0,g.tZ)("path",{d:"M12 1 2 10.1V23h7v-8h6v8h7V10.1L12 1Z",fill:"currentColor"})]})}));var we=n("__fusion__5936b59acc"),Ie=n("__fusion__bf7c9fec80");const Te=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{marginRight:t.sizing.scale200}})),xe=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"center",marginBottom:t.sizing.scale1000,marginTop:t.sizing.scale1000}})),Ee=(0,c.zo)("div",{display:"flex",flexDirection:"row"}),Le=(0,c.zo)("div",(e=>{let{$backgroundColor:t,$theme:n,$size:o,$flipRtl:a=!0}=e;return{alignItems:"center",backgroundColor:t===P?n.colors.backgroundInversePrimary:t===O||t===w?"unset":n.colors.backgroundTertiary,borderRadius:"50%",color:t===P?n.colors.contentInversePrimary:t===w?n.colors.contentTertiary:n.colors.contentPrimary,display:"flex",flexDirection:"column",flexShrink:0,fontSize:Z.StyledIconContainer.fontSize[o],height:Z.StyledIconContainer.height[o],justifyContent:"center",transform:a&&"rtl"===n.direction?"rotate(180deg)":"initial",width:Z.StyledIconContainer.height[o]}})),He=((0,c.zo)("span",(e=>{let{$theme:t}=e;return{color:t.colors.contentPositive}})),(0,c.zo)("p",(e=>{let{$numberOfLines:t,$size:n,$theme:o}=e;return{color:o.colors.contentPrimary,marginBottom:0,marginTop:0,...o.typography[Z.StyledLabelContent[n]],...(0,p.W_)(t)}}))),_e=(0,c.zo)("p",(e=>{let{$colorContentSecondary:t,$numberOfLines:n,$size:o,$theme:a}=e;return{color:t?a.colors.contentSecondary:a.colors.contentPrimary,marginBottom:0,marginTop:0,...a.typography[Z.StyledLabelDescription[o]],...(0,p.W_)(n)}}));const Ne={Root:{style:e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale100}}}},Be=s.forwardRef(((e,t)=>{var n;let{item:{clickable:o=!0,...a},$size:l,...i}=e;const r=l||R.NO.default;let d,s;var c;null!=a&&null!==(n=a.savedPlacesMeta)&&void 0!==n&&n.label?(d=null==a||null===(c=a.savedPlacesMeta)||void 0===c?void 0:c.label,s=null==a?void 0:a.addressLine1):(d=null==a?void 0:a.addressLine1,s=null==a?void 0:a.addressLine2);return(0,g.tZ)(Re.Z,{...i,ref:t,artwork:()=>{var e,t;const n=(null==a?void 0:a.artwork)||function(e){switch(e){case be.AIRPORT:return ye.Z;case be.FAVORITE:return fe.Z;case be.HOME:return Oe;case be.HOTEL:return Ze.Z;case be.PERSONALIZATION:return Pe.Z;case be.RESTAURANT:return Ie.Z;case be.WORK:return Ce.default;default:return we.Z}}(null!==(e=null==a||null===(t=a.savedPlacesMeta)||void 0===t?void 0:t.tag)&&void 0!==e?e:null==a?void 0:a.tag);return(0,g.tZ)(Le,{$backgroundColor:null!=a&&a.inverseArtworkColor?P:C,$size:r,children:null!=a&&a.loading?(0,g.tZ)(ke.Z,{animation:!0}):(0,g.tZ)(n,{})})},endEnhancer:(null==a?void 0:a.endEnhancer)||i.endEnhancer,overrides:(0,b.aO)(E({clickable:o,disabled:null==a?void 0:a.disabled,size:r,testid:null==a?void 0:a.testid}),i.overrides),children:(0,g.tZ)("div",{"data-tracking-name":i["data-tracking-name"]||I,style:{width:"100%"},children:null!=a&&a.loading?(0,g.tZ)(ze,{}):(0,g.BX)(g.HY,{children:[(0,g.tZ)(He,{$numberOfLines:1,$size:r,children:d}),s&&(0,g.tZ)(_e,{$colorContentSecondary:!1,$numberOfLines:2,$size:r,children:s})]})})})})),ze=()=>(0,g.BX)(g.HY,{children:[(0,g.tZ)(ke.Z,{animation:!0,rows:1,width:"100%"}),(0,g.tZ)(ke.Z,{animation:!0,overrides:Ne,rows:1,width:"75%"})]});Be.displayName="PudoListItem";const Ae=Be;var De=n(22891),Ue=n(8693);function Me(e){switch(e){case be.HOME:return Oe;case be.WORK:return Ce.default;default:return we.Z}}function Ke(e){var t,n;let{item:o,onSelect:a}=e;const l=(0,De.G2)(Ue.l);return(0,g.tZ)(Te,{children:(0,g.tZ)(v.Z,{kind:u.TO.secondary,onClick:e=>{e.stopPropagation(),null==a||a({event:e,item:o}),null==l||l.track("click.".concat(T.row.resultButton),null,null,x)},shape:u.X3.pill,size:u.NO.compact,startEnhancer:Me((null===(t=o.savedPlacesMeta)||void 0===t?void 0:t.tag)||o.tag),children:null===(n=o.savedPlacesMeta)||void 0===n?void 0:n.label})})}function Xe(e){let{onClick:t}=e;return(0,g.tZ)(v.Z,{"data-tracking-name":T.row.listButton,kind:u.TO.secondary,onClick:t,shape:u.X3.pill,size:u.NO.compact,startEnhancer:fe.Z,children:(0,g.tZ)(te.v,{id:"pudo.savedplaces.row.button.list"})})}const Fe=s.forwardRef(((e,t)=>{let{item:n,...o}=e;const[,a]=s.useContext(ut);return(0,g.tZ)(Re.Z,{...o,ref:t,overrides:E({clickable:!1,disabled:!1,size:R.NO.default,testid:null==n?void 0:n.testid}),children:(0,g.BX)(Ee,{"data-tracking-name":T.root.row,children:[(null==n?void 0:n.home)&&(0,g.tZ)(Ke,{item:n.home,onSelect:o.onSelect}),(null==n?void 0:n.work)&&(0,g.tZ)(Ke,{item:n.work,onSelect:o.onSelect}),(0,g.tZ)(Xe,{onClick:()=>{a(!0)}})]})})}));Fe.displayName="PudoSavedPlacesListItem";const $e=Fe;const Ve=d.forwardRef(((e,t)=>e.item.isSavedPlacesRow?(0,g.tZ)($e,{ref:t,...e}):(0,g.tZ)(Ae,{ref:t,...e})));function qe(e){let{onSelect:t,size:n=R.NO.default}=e;return{Option:{props:{$size:n,onSelect:t,overrides:{ListItem:Ve}}}}}function We(e){let{disabled:t,enableSavedPlaces:n,modalZIndex:o,overrides:a,renderRowOrder:l,renderUtfRow:i,sendRequestHook:r,size:s,stateKey:c,useResultsHook:u,useSavedPlacesHook:v,useDeleteSavedPlaceHook:p,useUpsertSavedPlaceHook:h,isReverseSavedPlaces:f,...S}=e;const R=(0,m.Tt)(c,m.Xr.locationSearch),{[R]:y}=d.useContext(m.JU),Z=d.useContext(m.QY),[,C]=d.useContext(ut);let P=Se({enableSavedPlaces:n,isReverseSavedPlaces:f,renderRowOrder:l,renderUtfRow:i,stateKey:c,useResultsHook:u});t&&(P=P.map((e=>({...e,disabled:!0}))));const O=e=>{var t;e.item.id!==k.utf?e.item.id!==k.simpleSavedPlaces?null===(t=S.onItemSelect)||void 0===t||t.call(S,e):C(!0):null!=y&&y.variables&&Z(R,{...y,variables:{...y.variables,isUserTriggeredFallback:!0}})};return(0,g.BX)(g.HY,{children:[(0,g.tZ)(pt,{onSelect:O,sendRequestHook:r,stateKey:c,useDeleteSavedPlaceHook:p,useResultsHook:u,useSavedPlacesHook:v,useUpsertSavedPlaceHook:h,zIndex:o}),(0,g.tZ)(me.Z,{...S,items:P,onItemSelect:t?void 0:O,overrides:(0,b.aO)(qe({onSelect:O,size:s}),a)})]})}function je(e){return(0,g.tZ)(vt,{children:(0,g.tZ)(We,{...e})})}Ve.displayName="OverrideListItem";const Ge="__internal_saved_places_upsert__";function Qe(e){let{sendRequestHook:t,stateKey:n,type:o,useResultsHook:a,useSavedPlacesHook:l,useDeleteSavedPlaceHook:i,useUpsertSavedPlaceHook:r}=e;const[s,u]=(0,c.hQ)(),v=(0,D.T)(),p=d.useContext(ie),{label:h,place:f}=d.useContext(re),[b,R]=d.useState((null==f?void 0:f.addressLine1)||""),k=(0,m.Tt)(n,m.Xr.locationSearch),{[k]:y}=d.useContext(m.JU),{latitude:Z,longitude:C}=(null==y?void 0:y.variables)||{};return(0,g.BX)("div",{className:s(se),"data-tracking-name":o===ct.EDIT?T.edit.root:T.add.root,children:[(0,g.BX)("div",{className:s(ce(u)),children:[(0,g.tZ)(ee.Z,{label:v("pudo.savedplaces.add.name.label"),children:(0,g.tZ)(S.Z,{autoFocus:!0,clearOnEscape:!0,disabled:o===ct.EDIT,id:"saved-places-add-name",onChange:e=>p(oe(e.target.value)),overrides:{Input:{props:{"data-tracking-name":T.edit.nameInput}}},placeholder:"",value:h})}),(0,g.tZ)(ee.Z,{label:v("pudo.savedplaces.add.address.label"),children:(0,g.tZ)(N,{id:"saved-places-add-address",latitude:null!=Z?Z:0,longitude:null!=C?C:0,onChange:e=>R(e.target.value),overrides:{Input:{props:{"data-tracking-name":T.edit.addressInput}}},sendRequestHook:t,stateKey:Ge,type:ge.PICKUP,value:b})})]}),(0,g.tZ)("div",{className:s(ue),children:(0,g.tZ)(je,{enableSavedPlaces:!1,onItemSelect:e=>{let{item:t}=e;p(ae(t)),null!=t&&t.addressLine1&&R(null==t?void 0:t.addressLine1)},overrides:pe,sendRequestHook:t,stateKey:Ge,useDeleteSavedPlaceHook:i,useResultsHook:a,useSavedPlacesHook:l,useUpsertSavedPlaceHook:r})})]})}function Ye(e){let{disabled:t,loading:n,onClick:o}=e;return(0,g.tZ)(v.Z,{"data-tracking-name":T.edit.saveButton,disabled:t,isLoading:n,onClick:o,children:(0,g.tZ)(te.v,{id:"pudo.savedplaces.add.save"})})}function Je(e){let{disabled:t,loading:n,onClick:o}=e;return(0,g.tZ)(v.Z,{"data-tracking-name":T.edit.deleteButton,disabled:t,isLoading:n,kind:u.TO.secondary,onClick:o,overrides:ve,children:(0,g.tZ)(te.v,{id:"pudo.savedplaces.edit.delete"})})}var et=n(3414),tt=n(49418),nt=n(53823);function ot(e){let{isOpen:t,zIndex:n,onConfirm:o,onCancel:a}=e;const l={Root:{style:{zIndex:n}}};return(0,g.BX)(M.Z,{autoFocus:!0,isOpen:t,overrides:l,size:et.NO.default,children:[(0,g.tZ)(tt.xB,{children:(0,g.tZ)(te.v,{id:"pudo.savedplaces.edit.delete"})}),(0,g.tZ)(tt.fe,{children:(0,g.tZ)(te.v,{id:"pudo.savedplaces.delete.confirm.text"})}),(0,g.BX)(tt.mz,{children:[(0,g.tZ)(nt.Z,{kind:u.TO.tertiary,onClick:a,children:(0,g.tZ)(te.v,{id:"common.buttons.cancel"})}),(0,g.tZ)(nt.Z,{"data-testid":"pudo.savedplaces.edit.delete.confirm",onClick:o,children:(0,g.tZ)(te.v,{id:"pudo.savedplaces.edit.delete"})})]})]})}var at=n(44145),lt=n("__fusion__8672dec7d9");function it(e){let{fetchSavedPlaces:t,loading:n,onClickAddPlace:o,onClickEditPlace:a,onSelect:l,places:i}=e;const r=(0,De.G2)(Ue.l),d=(0,D.T)();return s.useEffect((()=>{i||t()}),[t,i]),n?(0,g.tZ)(xe,{children:(0,g.tZ)(at.$,{})}):(0,g.BX)("ul",{"data-tracking-name":T.list.root,style:{paddingLeft:"0px"},children:[null==i?void 0:i.map((e=>{const t=t=>{t.stopPropagation(),a({item:e}),null==r||r.track("click.".concat(T.list.editItem),null,null,x)};return(0,g.BX)(Ae,{endEnhancer:()=>(0,g.tZ)(v.Z,{kind:"secondary",onClick:t,shape:"pill",size:"compact",children:d("pudo.savedplaces.list.item.action")}),item:e,onClick:()=>{l({item:e})},role:"option",children:[(0,g.tZ)(g.HY,{})," "]},e.id)})),(0,g.tZ)(rt,{onClick:o})]})}const rt=e=>{let{onClick:t}=e;const n={addressLine1:(0,D.T)()("pudo.savedplaces.list.addplace"),artwork:lt.Z,id:"add_saved_place"};return(0,g.BX)(Ae,{"data-tracking-name":T.list.addItem,item:n,onClick:t,role:"option",children:[(0,g.tZ)(g.HY,{})," "]})},dt={BaseButton:{style:e=>{let{$theme:t}=e;return{marginRight:t.sizing.scale200,position:"absolute",transform:"rotate(".concat("rtl"===t.direction?180:0,"deg)"),["".concat("rtl"===t.direction?"right":"left")]:t.sizing.scale600,["@media screen and (min-width: ".concat(t.breakpoints.medium,"px)")]:{position:"initial"}}}}},st=e=>({display:"flex",flexDirection:"column",marginTop:e.sizing.scale400});let ct=function(e){return e.ADD="ADD",e.EDIT="EDIT",e.LIST="LIST",e}({});const ut=s.createContext([!1,()=>{}]);function vt(e){let{children:t,isOpen:n}=e;const[o,a]=s.useState(null!=n&&n);return(0,g.tZ)(ut.Provider,{value:[o,a],children:(0,g.tZ)(de,{children:t})})}function pt(e){let{onSelect:t,sendRequestHook:n,stateKey:o,useResultsHook:a,useSavedPlacesHook:l,useDeleteSavedPlaceHook:i,useUpsertSavedPlaceHook:r,zIndex:d=3}=e;const[p,m]=(0,c.hQ)(),h=(0,D.T)(),[f,b]=s.useState(ct.LIST),[S,R]=s.useState(!1),[k,y]=s.useContext(ut),Z=s.useContext(ie),{label:C,place:P}=s.useContext(re),[O,{error:w,loading:I}]=i({label:C}),[x,{error:E,loading:L}]=r({label:C,placeId:(null==P?void 0:P.id)||""}),[_,{data:N,error:B,loading:z,refetch:M}]=l(),K=s.useCallback((()=>{Z(oe("")),b(ct.LIST),y(!1)}),[Z,y]);s.useEffect((()=>{if(B||E||w){try{A.Z.negative(h("common.generic.error.message"))}catch(e){0}B&&K()}}),[B,w,E,K,h]);const X=()=>{R(!1),b(ct.LIST),Z(oe("")),Z(ae(null))},F={Root:{props:{"data-scene-meta":JSON.stringify({modal_id:"rv_web_pudo.saved_places",presentation_style:"modal"}),"data-tracking-name":T.root.modal},style:{zIndex:d}}};return(0,g.tZ)(J,{bottomContent:f===ct.ADD||f===ct.EDIT?(0,g.BX)(g.HY,{children:[(0,g.tZ)(Ye,{disabled:!C||!P||I,loading:L,onClick:async()=>{try{await x()}catch(e){}M(),X()}}),f===ct.EDIT&&(0,g.BX)("div",{className:p(st(m)),children:[(0,g.tZ)(Je,{disabled:L,loading:I,onClick:()=>R(!0)}),(0,g.tZ)(ot,{isOpen:S,onCancel:()=>R(!1),onConfirm:async()=>{R(!1);try{await O()}catch(e){}M(),X()},zIndex:d+1})]})]}):null,isOpen:k,onClose:K,overrides:F,title:f===ct.LIST?h("pudo.savedplaces.list.title"):(0,g.BX)("div",{className:p(H),children:[(0,g.tZ)(v.Z,{kind:u.TO.secondary,onClick:X,overrides:dt,shape:u.X3.circle,size:u.NO.compact,children:(0,g.tZ)(U.Z,{})}),f===ct.ADD?h("pudo.savedplaces.add.title"):h("pudo.savedplaces.edit.title",{label:C})]}),children:f===ct.LIST?(0,g.tZ)(it,{fetchSavedPlaces:_,loading:z,onClickAddPlace:()=>{b(ct.ADD)},onClickEditPlace:e=>{var t;let{item:n}=e;Z(oe((null===(t=n.savedPlacesMeta)||void 0===t?void 0:t.label)||"")),Z(ae(n)),b(ct.EDIT)},onSelect:e=>{let{item:n}=e;null==t||t({item:n}),K()},places:N}):(0,g.tZ)(Qe,{sendRequestHook:n,stateKey:o,type:f,useDeleteSavedPlaceHook:i,useResultsHook:a,useSavedPlacesHook:l,useUpsertSavedPlaceHook:r})})}function mt(e){let{onSelect:t}=e;return{Root:{props:{"data-testid":"pudo-select-v2"}},StatefulMenu:{props:{overrides:qe({onSelect:t})}}}}const ht=s.forwardRef(((e,t)=>{let{debounceMsec:n,enableSavedPlaces:o,filterOptions:a=(e=>e),latitude:l,longitude:i,maxDropdownHeight:r,modalZIndex:d,onChange:c,onInputChange:u,overrides:v,renderRowOrder:p,renderUtfRow:h,sendRequestHook:S,stateKey:R,type:y,useResultsHook:Z,useSavedPlacesHook:C,useDeleteSavedPlaceHook:P,useUpsertSavedPlaceHook:O,value:w,...I}=e;const[T,x]=s.useState((null==w?void 0:w.addressLine1)||""),E=(0,m.Tt)(R,m.Xr.locationSearch),{[E]:L}=s.useContext(m.JU),H=s.useContext(m.QY);f({debounceMsec:n,internalStateKey:E,latitude:l,longitude:i,sendRequestHook:S,type:y,value:T});const _=e=>{var n;if((null===(n=e.option)||void 0===n?void 0:n.id)!==k.utf){var o,a;if(c(e),"object"==typeof t)null==t||null===(o=t.current)||void 0===o||o.setDropdownOpen(!1),null==t||null===(a=t.current)||void 0===a||a.setInputValue("");e.option||x("")}else null!=L&&L.variables&&H(E,{...L,variables:{...L.variables,isUserTriggeredFallback:!0}})},N=e=>{let{item:t}=e;return _({option:t,type:"select",value:[t]})},A=Se({enableSavedPlaces:o,renderRowOrder:p,renderUtfRow:h,stateKey:R,useResultsHook:Z});return(0,g.BX)(vt,{children:[(0,g.tZ)(pt,{onSelect:N,sendRequestHook:S,stateKey:R,useDeleteSavedPlaceHook:P,useResultsHook:Z,useSavedPlacesHook:C,useUpsertSavedPlaceHook:O,zIndex:d}),(0,g.tZ)(B.Z,{...I,closeOnSelect:!1,controlRef:t,creatable:!1,escapeClearsValue:!0,filterOptions:a,labelKey:"addressLine1",maxDropdownHeight:r||"60vh",onChange:_,onInputChange:e=>{x(e.target.value),u&&u(e)},onSelectResetsInput:!1,options:A,overrides:(0,b.aO)(mt({onSelect:N}),v),searchable:!0,type:z.wD.search,value:w?[w]:[],valueKey:"id"})]})}));ht.displayName="LocationSearchSelect";const ft=ht;function gt(e){return 0!==e.latitude||0!==e.longitude}var bt=n(90212);const{useRpcQuery:St,useRpcMutation:Rt}=(0,bt.q)();const kt=e=>{let{label:t}=e;const{mutateAsync:n,data:o,isError:a,isPending:l}=Rt("deleteSavedPlace");return[d.useCallback((()=>n({label:t})),[t,n]),{data:Boolean(o),error:a,loading:l}]},yt=()=>{const[e,t]=d.useState(!1),{data:n,isFetching:o,isError:a,refetch:l}=St("savedPlaces",{},{enabled:e,gcTime:0});return[d.useCallback((()=>{t(!0)}),[]),{data:n,error:a,loading:o,refetch:l}]},Zt=e=>{let{label:t,placeId:n}=e;const{mutateAsync:o,data:a,isError:l,isPending:i}=Rt("upsertSavedPlace");return[d.useCallback((()=>o({label:t,placeId:n})),[t,n,o]),{data:Boolean(a),error:l,loading:i}]};var Ct=n(50474);function Pt(e){let{cacheKey:t,internalStateKey:n}=e;const[o,a]=s.useState([]),l=s.useContext(m.JU),i=(0,Ct.NL)();return s.useEffect((()=>{if(l["".concat(n)]){var e;const o=i.getQueryData([t,null===(e=l["".concat(n)])||void 0===e?void 0:e.variables]);a(null!=o?o:[])}}),[l["".concat(n)]]),o}const Ot=function(e){const{isLoading:t}=St("pudoLocationSearch",e,{enabled:gt(e),staleTime:y.pudoLocationSearch});return{errorMessage:s.useMemo((()=>""),[]),loading:t}};s.forwardRef(((e,t)=>(0,g.tZ)(N,{...e,ref:t,sendRequestHook:Ot}))).displayName="PudoLocationSearchInputReactQuery";const wt=s.forwardRef(((e,t)=>(0,g.tZ)(ft,{...e,ref:t,sendRequestHook:Ot,useDeleteSavedPlaceHook:kt,useResultsHook:Pt,useSavedPlacesHook:yt,useUpsertSavedPlaceHook:Zt})));function It(e){const{controlRef:t,enableSavedPlaces:n,pudoKey:o,stateKey:a,maxRVPudoDropdownHeight:l,...s}=e,c=d.useRef(null);return(0,g.tZ)(wt,{...s,ref:null!=t?t:c,enableSavedPlaces:n,maxDropdownHeight:r(l),modalZIndex:2004,stateKey:a,type:i(o)})}wt.displayName="PudoLocationSearchSelectReactQuery";const Tt=e=>{let{blockKey:t,children:n,rvPudoEnabled:i}=e;const{user:r}=(0,a.i)(i),d={LocationSelect:e=>(0,g.tZ)(It,{...e,enableSavedPlaces:Boolean(null==r?void 0:r.firstName),stateKey:l(t,e)})};return(0,g.tZ)(o.b.Provider,{value:d,children:n})}}}]);