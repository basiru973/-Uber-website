"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[164],{74129:(t,n,e)=>{e.d(n,{Z:()=>a});var i=e(97455),r=e(51007),o=e(46063),l=e(26546);class a extends r.Z{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every((t=>t.isLoaded))}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(t){}setState(t){super.setState(t),this.setNeedsUpdate()}getPickingInfo(t){let{info:n}=t;const{object:e}=n;return e&&e.__source&&e.__source.parent&&e.__source.parent.id===this.id?(n.object=e.__source.object,n.index=e.__source.index,n):n}filterSubLayer(t){return!0}shouldRenderSubLayer(t,n){return n&&n.length}getSubLayerClass(t,n){const{_subLayerProps:e}=this.props;return e&&e[t]&&e[t].type||n}getSubLayerRow(t,n,e){return t.__source={parent:this,object:n,index:e},t}getSubLayerAccessor(t){if("function"==typeof t){const n={index:-1,data:this.props.data,target:[]};return(e,i)=>e&&e.__source?(n.index=e.__source.index,t(e.__source.object,n)):t(e,i)}return t}getSubLayerProps(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n;const{opacity:e,pickable:i,visible:r,parameters:o,getPolygonOffset:l,highlightedObjectIndex:a,autoHighlight:u,highlightColor:g,coordinateSystem:s,coordinateOrigin:c,wrapLongitude:h,positionFormat:p,modelMatrix:x,extensions:f,fetch:d,operation:v,_subLayerProps:_}=this.props,y={id:"",updateTriggers:{},opacity:e,pickable:i,visible:r,parameters:o,getPolygonOffset:l,highlightedObjectIndex:a,autoHighlight:u,highlightColor:g,coordinateSystem:s,coordinateOrigin:c,wrapLongitude:h,positionFormat:p,modelMatrix:x,extensions:f,fetch:d,operation:v},L=_&&t.id&&_[t.id],m=L&&L.updateTriggers,b=t.id||"sublayer";if(L){const n=this.constructor._propTypes,e=t.type?t.type._propTypes:{};for(const t in L){const i=e[t]||n[t];i&&"accessor"===i.type&&(L[t]=this.getSubLayerAccessor(L[t]))}}Object.assign(y,t,L),y.id="".concat(this.props.id,"-").concat(b),y.updateTriggers={all:null===(n=this.props.updateTriggers)||void 0===n?void 0:n.all,...t.updateTriggers,...m};for(const t of f){const n=t.getSubLayerProps.call(this,t);n&&Object.assign(y,n,{updateTriggers:Object.assign(y.updateTriggers,n.updateTriggers)})}return y}_updateAutoHighlight(t){for(const n of this.getSubLayers())n.updateAutoHighlight(t)}_getAttributeManager(){return null}_postUpdate(t,n){let e=this.internalState.subLayers;const i=!e||this.needsUpdate();if(i){const t=this.renderLayers();e=(0,l.x)(t,Boolean),this.internalState.subLayers=e}(0,o.Z)("compositeLayer.renderLayers",this,i,e);for(const t of e)t.parent=this}}(0,i.Z)(a,"layerName","CompositeLayer")},60599:(t,n,e)=>{e.d(n,{Ny:()=>r,wG:()=>i});const i={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function r(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=o(t,e);return i!==n&&(a(t,e),!0)}function o(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(l(t,n))}function l(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{start:e=0,end:i=t.length}=n,r=n.size||2;let o=0;for(let n=e,l=i-r;n<i;n+=r)o+=(t[n]-t[l])*(t[n+1]+t[l+1]),l=n;return o/2}function a(t,n){const{start:e=0,end:i=t.length,size:r=2}=n,o=(i-e)/r,l=Math.floor(o/2);for(let n=0;n<l;++n){const i=e+n*r,l=e+(o-1-n)*r;for(let n=0;n<r;++n){const e=t[i+n];t[i+n]=t[l+n],t[l+n]=e}}}},94998:(t,n,e)=>{e.d(n,{N:()=>h});const i="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",r={lightSources:{}};function o(){let{color:t=[0,0,0],intensity:n=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.map((t=>t*n/255))}function l(t){let{ambientLight:n,pointLights:e=[],directionalLights:i=[]}=t;const r={};return r["lighting_uAmbientLight.color"]=n?o(n):[0,0,0],e.forEach(((t,n)=>{r["lighting_uPointLight[".concat(n,"].color")]=o(t),r["lighting_uPointLight[".concat(n,"].position")]=t.position,r["lighting_uPointLight[".concat(n,"].attenuation")]=t.attenuation||[1,0,0]})),r.lighting_uPointLightCount=e.length,i.forEach(((t,n)=>{r["lighting_uDirectionalLight[".concat(n,"].color")]=o(t),r["lighting_uDirectionalLight[".concat(n,"].direction")]=t.direction})),r.lighting_uDirectionalLightCount=i.length,r}const a={name:"lights",vs:i,fs:i,getUniforms:function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if("lightSources"in n){const{ambientLight:t,pointLights:e,directionalLights:i}=n.lightSources||{};return t||e&&e.length>0||i&&i.length>0?Object.assign({},l({ambientLight:t,pointLights:e,directionalLights:i}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in n){const e={pointLights:[],directionalLights:[]};for(const t of n.lights||[])switch(t.type){case"ambient":e.ambientLight=t;break;case"directional":e.directionalLights.push(t);break;case"point":e.pointLights.push(t)}return t({lightSources:e})}return{}},defines:{MAX_LIGHTS:3}},u="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",g={};function s(t){const{ambient:n=.35,diffuse:e=.6,shininess:i=32,specularColor:r=[30,30,30]}=t;return{lighting_uAmbient:n,lighting_uDiffuse:e,lighting_uShininess:i,lighting_uSpecularColor:r.map((t=>t/255))}}function c(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;if(!("material"in t))return{};const{material:n}=t;return n?s(n):{lighting_uEnabled:!1}}const h={name:"gouraud-lighting",dependencies:[a],vs:u,defines:{LIGHTING_VERTEX:1},getUniforms:c}},51233:t=>{var n={};function e(t){return Math.floor(Math.abs(t)+.5)*(t>=0?1:-1)}function i(t,n,i){var r=(t=e(t*i))-(n=e(n*i));r<<=1,t-n<0&&(r=~r);for(var o="";r>=32;)o+=String.fromCharCode(63+(32|31&r)),r>>=5;return o+=String.fromCharCode(r+63)}function r(t){for(var n=[],e=0;e<t.length;e++){var i=t[e].slice();n.push([i[1],i[0]])}return n}n.decode=function(t,n){for(var e,i=0,r=0,o=0,l=[],a=0,u=0,g=null,s=Math.pow(10,Number.isInteger(n)?n:5);i<t.length;){g=null,a=0,u=0;do{u|=(31&(g=t.charCodeAt(i++)-63))<<a,a+=5}while(g>=32);e=1&u?~(u>>1):u>>1,a=u=0;do{u|=(31&(g=t.charCodeAt(i++)-63))<<a,a+=5}while(g>=32);r+=e,o+=1&u?~(u>>1):u>>1,l.push([r/s,o/s])}return l},n.encode=function(t,n){if(!t.length)return"";for(var e=Math.pow(10,Number.isInteger(n)?n:5),r=i(t[0][0],0,e)+i(t[0][1],0,e),o=1;o<t.length;o++){var l=t[o],a=t[o-1];r+=i(l[0],a[0],e),r+=i(l[1],a[1],e)}return r},n.fromGeoJSON=function(t,e){if(t&&"Feature"===t.type&&(t=t.geometry),!t||"LineString"!==t.type)throw new Error("Input must be a GeoJSON LineString");return n.encode(r(t.coordinates),e)},n.toGeoJSON=function(t,e){return{type:"LineString",coordinates:r(n.decode(t,e))}},t.exports&&(t.exports=n)},68685:t=>{function n(t,n,o){o=o||2;var l,a,u,c,h,x,f,d=n&&n.length,v=d?n[0]*o:t.length,_=e(t,0,v,o,!0),y=[];if(!_||_.next===_.prev)return y;if(d&&(_=function(t,n,r,o){var l,a,u,c=[];for(l=0,a=n.length;l<a;l++)(u=e(t,n[l]*o,l<a-1?n[l+1]*o:t.length,o,!1))===u.next&&(u.steiner=!0),c.push(p(u));for(c.sort(g),l=0;l<c.length;l++)s(c[l],r),r=i(r,r.next);return r}(t,n,_,o)),t.length>80*o){l=u=t[0],a=c=t[1];for(var L=o;L<v;L+=o)(h=t[L])<l&&(l=h),(x=t[L+1])<a&&(a=x),h>u&&(u=h),x>c&&(c=x);f=0!==(f=Math.max(u-l,c-a))?1/f:0}return r(_,y,o,l,a,f),y}function e(t,n,e,i,r){var o,l;if(r===Z(t,n,e,i)>0)for(o=n;o<e;o+=i)l=w(o,t[o],t[o+1],l);else for(o=e-i;o>=n;o-=i)l=w(o,t[o],t[o+1],l);return l&&v(l,l.next)&&(C(l),l=l.next),l}function i(t,n){if(!t)return t;n||(n=t);var e,i=t;do{if(e=!1,i.steiner||!v(i,i.next)&&0!==d(i.prev,i,i.next))i=i.next;else{if(C(i),(i=n=i.prev)===i.next)break;e=!0}}while(e||i!==n);return n}function r(t,n,e,g,s,c,p){if(t){!p&&c&&function(t,n,e,i){var r=t;do{null===r.z&&(r.z=h(r.x,r.y,n,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var n,e,i,r,o,l,a,u,g=1;do{for(e=t,t=null,o=null,l=0;e;){for(l++,i=e,a=0,n=0;n<g&&(a++,i=i.nextZ);n++);for(u=g;a>0||u>0&&i;)0!==a&&(0===u||!i||e.z<=i.z)?(r=e,e=e.nextZ,a--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;e=i}o.nextZ=null,g*=2}while(l>1)}(r)}(t,g,s,c);for(var x,f,d=t;t.prev!==t.next;)if(x=t.prev,f=t.next,c?l(t,g,s,c):o(t))n.push(x.i/e),n.push(t.i/e),n.push(f.i/e),C(t),t=f.next,d=f.next;else if((t=f)===d){p?1===p?r(t=a(i(t),n,e),n,e,g,s,c,2):2===p&&u(t,n,e,g,s,c):r(i(t),n,e,g,s,c,1);break}}}function o(t){var n=t.prev,e=t,i=t.next;if(d(n,e,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(x(n.x,n.y,e.x,e.y,i.x,i.y,r.x,r.y)&&d(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(t,n,e,i){var r=t.prev,o=t,l=t.next;if(d(r,o,l)>=0)return!1;for(var a=r.x<o.x?r.x<l.x?r.x:l.x:o.x<l.x?o.x:l.x,u=r.y<o.y?r.y<l.y?r.y:l.y:o.y<l.y?o.y:l.y,g=r.x>o.x?r.x>l.x?r.x:l.x:o.x>l.x?o.x:l.x,s=r.y>o.y?r.y>l.y?r.y:l.y:o.y>l.y?o.y:l.y,c=h(a,u,n,e,i),p=h(g,s,n,e,i),f=t.prevZ,v=t.nextZ;f&&f.z>=c&&v&&v.z<=p;){if(f!==t.prev&&f!==t.next&&x(r.x,r.y,o.x,o.y,l.x,l.y,f.x,f.y)&&d(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,v!==t.prev&&v!==t.next&&x(r.x,r.y,o.x,o.y,l.x,l.y,v.x,v.y)&&d(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&x(r.x,r.y,o.x,o.y,l.x,l.y,f.x,f.y)&&d(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;v&&v.z<=p;){if(v!==t.prev&&v!==t.next&&x(r.x,r.y,o.x,o.y,l.x,l.y,v.x,v.y)&&d(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function a(t,n,e){var r=t;do{var o=r.prev,l=r.next.next;!v(o,l)&&_(o,r,r.next,l)&&m(o,l)&&m(l,o)&&(n.push(o.i/e),n.push(r.i/e),n.push(l.i/e),C(r),C(r.next),r=t=l),r=r.next}while(r!==t);return i(r)}function u(t,n,e,o,l,a){var u=t;do{for(var g=u.next.next;g!==u.prev;){if(u.i!==g.i&&f(u,g)){var s=b(u,g);return u=i(u,u.next),s=i(s,s.next),r(u,n,e,o,l,a),void r(s,n,e,o,l,a)}g=g.next}u=u.next}while(u!==t)}function g(t,n){return t.x-n.x}function s(t,n){if(n=function(t,n){var e,i=n,r=t.x,o=t.y,l=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>l){if(l=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}e=i.x<i.next.x?i:i.next}}i=i.next}while(i!==n);if(!e)return null;if(r===l)return e;var u,g=e,s=e.x,h=e.y,p=1/0;i=e;do{r>=i.x&&i.x>=s&&r!==i.x&&x(o<h?r:l,o,s,h,o<h?l:r,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(r-i.x),m(i,t)&&(u<p||u===p&&(i.x>e.x||i.x===e.x&&c(e,i)))&&(e=i,p=u)),i=i.next}while(i!==g);return e}(t,n)){var e=b(n,t);i(n,n.next),i(e,e.next)}}function c(t,n){return d(t.prev,t,n.prev)<0&&d(n.next,t,t.next)<0}function h(t,n,e,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-e)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-i)*r)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function p(t){var n=t,e=t;do{(n.x<e.x||n.x===e.x&&n.y<e.y)&&(e=n),n=n.next}while(n!==t);return e}function x(t,n,e,i,r,o,l,a){return(r-l)*(n-a)-(t-l)*(o-a)>=0&&(t-l)*(i-a)-(e-l)*(n-a)>=0&&(e-l)*(o-a)-(r-l)*(i-a)>=0}function f(t,n){return t.next.i!==n.i&&t.prev.i!==n.i&&!function(t,n){var e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==n.i&&e.next.i!==n.i&&_(e,e.next,t,n))return!0;e=e.next}while(e!==t);return!1}(t,n)&&(m(t,n)&&m(n,t)&&function(t,n){var e=t,i=!1,r=(t.x+n.x)/2,o=(t.y+n.y)/2;do{e.y>o!=e.next.y>o&&e.next.y!==e.y&&r<(e.next.x-e.x)*(o-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next}while(e!==t);return i}(t,n)&&(d(t.prev,t,n.prev)||d(t,n.prev,n))||v(t,n)&&d(t.prev,t,t.next)>0&&d(n.prev,n,n.next)>0)}function d(t,n,e){return(n.y-t.y)*(e.x-n.x)-(n.x-t.x)*(e.y-n.y)}function v(t,n){return t.x===n.x&&t.y===n.y}function _(t,n,e,i){var r=L(d(t,n,e)),o=L(d(t,n,i)),l=L(d(e,i,t)),a=L(d(e,i,n));return r!==o&&l!==a||(!(0!==r||!y(t,e,n))||(!(0!==o||!y(t,i,n))||(!(0!==l||!y(e,t,i))||!(0!==a||!y(e,n,i)))))}function y(t,n,e){return n.x<=Math.max(t.x,e.x)&&n.x>=Math.min(t.x,e.x)&&n.y<=Math.max(t.y,e.y)&&n.y>=Math.min(t.y,e.y)}function L(t){return t>0?1:t<0?-1:0}function m(t,n){return d(t.prev,t,t.next)<0?d(t,n,t.next)>=0&&d(t,t.prev,n)>=0:d(t,n,t.prev)<0||d(t,t.next,n)<0}function b(t,n){var e=new S(t.i,t.x,t.y),i=new S(n.i,n.x,n.y),r=t.next,o=n.prev;return t.next=n,n.prev=t,e.next=r,r.prev=e,i.next=e,e.prev=i,o.next=i,i.prev=o,i}function w(t,n,e,i){var r=new S(t,n,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,n,e){this.i=t,this.x=n,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Z(t,n,e,i){for(var r=0,o=n,l=e-i;o<e;o+=i)r+=(t[l]-t[o])*(t[o+1]+t[l+1]),l=o;return r}t.exports=n,t.exports.default=n,n.deviation=function(t,n,e,i){var r=n&&n.length,o=r?n[0]*e:t.length,l=Math.abs(Z(t,0,o,e));if(r)for(var a=0,u=n.length;a<u;a++){var g=n[a]*e,s=a<u-1?n[a+1]*e:t.length;l-=Math.abs(Z(t,g,s,e))}var c=0;for(a=0;a<i.length;a+=3){var h=i[a]*e,p=i[a+1]*e,x=i[a+2]*e;c+=Math.abs((t[h]-t[x])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[x+1]-t[h+1]))}return 0===l&&0===c?0:Math.abs((c-l)/l)},n.flatten=function(t){for(var n=t[0][0].length,e={vertices:[],holes:[],dimensions:n},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var l=0;l<n;l++)e.vertices.push(t[r][o][l]);r>0&&(i+=t[r-1].length,e.holes.push(i))}return e}}}]);